<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
  <style>
    .lane { fill:#f7f7f7; stroke:#ccc; stroke-width:1; }
    .title { font-family: Arial, sans-serif; font-size:16px; font-weight:bold; fill:#111; }
    .label { font-family: Arial, sans-serif; font-size:14px; fill:#111; }
    .arrow { stroke:#333; stroke-width:2; marker-end:url(#arrowhead); }
    .box { fill:#fff; stroke:#333; stroke-width:1; rx:6; ry:6; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <!-- Lifelines -->
  <text x="60" y="30" class="title">User</text>
  <rect x="40" y="50" width="140" height="620" class="lane" />

  <text x="260" y="30" class="title">Web</text>
  <rect x="240" y="50" width="160" height="620" class="lane" />

  <text x="460" y="30" class="title">EinoGraph</text>
  <rect x="440" y="50" width="160" height="620" class="lane" />

  <text x="660" y="30" class="title">GerritTool</text>
  <rect x="640" y="50" width="160" height="620" class="lane" />

  <text x="860" y="30" class="title">CodeContextTool</text>
  <rect x="840" y="50" width="160" height="620" class="lane" />

  <text x="1060" y="30" class="title">Static/LLM</text>
  <rect x="1040" y="50" width="140" height="620" class="lane" />

  <!-- Messages -->
  <line x1="180" y1="120" x2="240" y2="120" class="arrow" />
  <text x="90" y="115" class="label">RunReview(changeId, patchset)</text>

  <line x1="400" y1="160" x2="440" y2="160" class="arrow" />
  <text x="260" y="155" class="label">Start Graph</text>

  <line x1="600" y1="200" x2="640" y2="200" class="arrow" />
  <text x="470" y="195" class="label">GetDiffs</text>

  <line x1="640" y1="240" x2="600" y2="240" class="arrow" />
  <text x="650" y="235" class="label">diffs</text>

  <line x1="1000" y1="280" x2="840" y2="280" class="arrow" />
  <text x="860" y="275" class="label">Fetch Context</text>

  <line x1="840" y1="320" x2="1000" y2="320" class="arrow" />
  <text x="860" y="315" class="label">ctxs</text>

  <rect x="1040" y="360" width="140" height="40" class="box" />
  <text x="1060" y="386" class="label">StaticRuleTool</text>

  <rect x="1040" y="420" width="140" height="40" class="box" />
  <text x="1070" y="446" class="label">LLMTool</text>

  <line x1="580" y1="500" x2="440" y2="500" class="arrow" />
  <text x="460" y="495" class="label">preview</text>

  <line x1="180" y1="560" x2="240" y2="560" class="arrow" />
  <text x="90" y="555" class="label">PublishReview(id)</text>

  <line x1="560" y1="600" x2="640" y2="600" class="arrow" />
  <text x="420" y="595" class="label">PostReview(payload)</text>

  <line x1="640" y1="640" x2="560" y2="640" class="arrow" />
  <text x="650" y="635" class="label">status</text>
</svg>

